import{d as W,n as le,e as Y,o as se,p as X,a as s,g,t as y,s as h,i as u,F as K,q as O,b as k,u as N,r as P,m as ce,v as de,S as F,f as ue,w as me,l as ge,j as ee,k as Z}from"./dev.BuWjkK5k.js";import{S as te,D as f,M as J,F as ve}from"./FullscreenViewerSwiper.BS_HquXo.js";import"./_restaurant_.6f04fe89.Cfz2rqAZ.js";import"./pagination.CeHDqKQv.js";import"./hash-navigation.CsTBY9Op.js";import"./autoplay.oimAbWlb.js";/* empty css                              */var fe=y('<div class="w-full sticky -mt-px top-[calc(env(safe-area-inset-top)+3.97rem)] z-[600] bg-main-alpha-95 transform-gpu transition-colors ease-out duration-200 px-2"role=region aria-label="Menu categories"><div class=relative><div class="flex gap-1 items-center overflow-x-auto no-scrollbar snap-x snap-mandatory px-2 py-4"role=listbox aria-label=Categories data-scrollable>'),he=y('<div class="shrink-0 snap-start"role=option><button type=button class="rounded-md flex min-h-[40px] max-h-[40px] select-none items-center justify-center text-[12px] font-medium leading-tight text-center shadow-sm px-3 py-2 transition-colors"><span class="block break-words text-center">');const ye=r=>{let c;const _=`menu-cat-${le()}`,p=te.LAST_CATEGORY_ID,d=`${p}::${r.restaurantId}`,[b,x]=Y(void 0);function $(e){if(!e||!c)return!1;const a=c.querySelectorAll("button[data-category-id]");let o;if(a.forEach(m=>{!o&&m.getAttribute("data-category-id")===e&&(o=m)}),!o)return!1;try{o.scrollIntoView({behavior:"instant",block:"nearest",inline:"center"})}catch{o.scrollIntoView({behavior:"auto",block:"nearest",inline:"center"})}return!0}const R=e=>()=>{x(e);try{localStorage.setItem(d,e)}catch{}try{r.onSelect&&r.onSelect(e)}catch{}};return se(()=>{let e=r.activeCategoryId??"";if(!$(e)){let a="";try{if(a=localStorage.getItem(d)||"",!a){const o=localStorage.getItem(p)||"";if(o){a=o;try{localStorage.setItem(d,o)}catch{}}}}catch{}a&&($(a),e=a)}if(e){x(e);try{r.onSelect&&r.onSelect(e)}catch{}}}),X(()=>{const e=r.activeCategoryId;e&&e!==b()&&(x(e),r.preserveScrollOnActiveChange||$(e))}),s(F,{get when(){return ce(()=>!!r.categories)()&&r.categories.length>0},get children(){var e=g(fe),a=e.firstChild,o=a.firstChild,m=c;return typeof m=="function"?de(m,e):c=e,h(e,"id",_),u(o,s(K,{get each(){return r.categories},children:v=>(()=>{var C=g(he),E=C.firstChild,B=E.firstChild;return O(E,"click",R(v.id),!0),u(B,()=>v.label),k(n=>{var t=v.label,i=b()===v.id?"true":"false",l=v.id,w={"bg-second text-main hover:opacity-90 active:opacity-80":b()===v.id,"bg-main text-second-alpha border border-second-alpha-40 hover:opacity-90 active:opacity-80":b()!==v.id};return t!==n.e&&h(C,"aria-label",n.e=t),i!==n.t&&h(C,"aria-selected",n.t=i),l!==n.a&&h(E,"data-category-id",n.a=l),n.o=N(E,w,n.o),n},{e:void 0,t:void 0,a:void 0,o:void 0}),P(),C})()})),k(()=>h(e,"data-provided-active",r.activeCategoryId??"")),e}})};W(["click"]);var be=y('<div class="text-second-alpha-80 text-center text-sm mb-4 p-4 bg-third-alpha-20 rounded-lg">'),xe=y('<div class="pb-20 space-y-6">'),Q=y("<div>"),we=y('<div class="text-second/60 text-sm">No menu items available.'),Ie=y('<div><div class="cursor-zoom-in focus:outline-none focus-visible:ring-2 focus-visible:ring-second"role=button tabindex=0>'),Ce=y('<p class="text-second/70 text-xs">'),_e=y('<section class=mb-6><div class="mb-4 mt-2"><div class="flex gap-2 items-center"><svg xmlns=http://www.w3.org/2000/svg width=12 height=12 viewBox="0 0 16 16"fill=none><path d="M16 8L4 14.9282L4 1.0718L16 8Z"fill=currentColor></path></svg><h3 class="text-sm font-semibold text-second/90"></h3></div><!$><!/></div><div>'),$e=y("<div><div role=button tabindex=0>");const Se=r=>{const c=()=>r.menuCategoryAndItems?.segments||[],_=()=>Array.isArray(c())&&c().length>0,p=ue(()=>_()?c().flatMap(n=>n?.items||[]).filter(Boolean):r.menuCategoryAndItems.items||[]),d=()=>p(),b=()=>_()?{...r.menuCategoryAndItems,items:p()}:r.menuCategoryAndItems,x=()=>r.displayMode??f.LARGE,$=n=>n===f.SMALL?"grid grid-cols-2 gap-x-3 gap-y-8 px-3":n===f.MEDIUM?"grid grid-cols-2 gap-x-3 gap-y-8":"grid grid-cols-1 gap-y-10",R=()=>{const n=r.displayMode??f.LARGE;return $(n)},e=n=>t=>{const i=t.target,l=i&&i.closest?i.closest("[data-viewer-index]"):null;if(l&&(t.key==="Enter"||t.key===" ")){t.preventDefault();const w=l.getAttribute("data-viewer-index")||"0",I=Number(w)||0;l.dispatchEvent(new CustomEvent("open-item-viewer",{detail:{index:I},bubbles:!0}))}},a=n=>t=>{const i=t.target,l=i&&i.closest?i.closest("[data-viewer-index]"):null;if(!l)return;const w=l.getAttribute("data-viewer-index")||"0",I=Number(w)||0;l.dispatchEvent(new CustomEvent("open-item-viewer",{detail:{index:I},bubbles:!0}))},[o,m]=Y(!1),[v,C]=Y(0),E=n=>{if(!document||n<0||n>=d().length)return;const t=document.querySelector(`[data-id="item-${n}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},B=n=>{let t=0;for(let i=0;i<n;i++)t+=c()?.[i]?.items?.length||0;return t};return X(me(()=>[r.menuCategoryAndItems?.id,r.menuCategoryAndItems?.title,d().length],()=>{d().length!==0&&requestAnimationFrame(()=>requestAnimationFrame(()=>E(0)))},{defer:!0})),(()=>{var n=g(Q);return O(n,"open-item-viewer",t=>{const i=typeof t.detail?.index=="number"?t.detail.index:0;C(i),m(!0)}),u(n,s(F,{get when(){return d().length>0},get fallback(){return g(we)},get children(){return[s(F,{get when(){return b()?.description},get children(){var t=g(be);return k(()=>ge(t,"innerHTML",b().description)),t}}),s(F,{get when(){return _()},get fallback(){return(()=>{var t=g(Q);return u(t,s(K,{get each(){return d()},children:(i,l)=>{const w=l(),I=x();return(()=>{var S=g(Ie),A=S.firstChild;return h(S,"data-id",`item-${w}`),O(A,"keydown",e(),!0),O(A,"click",a(),!0),h(A,"data-viewer-index",w),u(A,s(J,{item:i,layout:I})),k(M=>{var H={"col-span-2":I===f.LARGE,"rounded-md overflow-hidden":I===f.SMALL},G=`View ${i.name} in full screen`;return M.e=N(S,H,M.e),G!==M.t&&h(A,"aria-label",M.t=G),M},{e:void 0,t:void 0}),P(),S})()}})),k(()=>Z(t,"pb-20 "+R())),t})()},get children(){var t=g(xe);return u(t,s(K,{get each(){return c()},children:(i,l)=>{const w=B(l());return(()=>{var I=g(_e),S=I.firstChild,A=S.firstChild,M=A.firstChild,H=M.nextSibling,G=A.nextSibling,[re,ne]=ee(G.nextSibling),j=S.nextSibling;return u(H,()=>i.title),u(S,s(F,{get when(){return i.description},get children(){var V=g(Ce);return u(V,()=>i.description),V}}),re,ne),u(j,s(K,{get each(){return i.items||[]},children:(V,ae)=>{const z=w+ae(),T=i.layout??x();return(()=>{var q=g($e),D=q.firstChild;return h(q,"data-id",`item-${z}`),O(D,"keydown",e(),!0),O(D,"click",a(),!0),h(D,"data-viewer-index",z),u(D,s(J,{item:V,layout:T})),k(L=>{var ie={"col-span-2":T===f.LARGE,"rounded-md overflow-hidden":T===f.SMALL},U=`View ${V.name} in full screen`,oe={"rounded-md overflow-hidden":T===f.SMALL};return L.e=N(q,ie,L.e),U!==L.t&&h(D,"aria-label",L.t=U),L.a=N(D,oe,L.a),L},{e:void 0,t:void 0,a:void 0}),P(),q})()}})),k(()=>Z(j,$(i.layout??x()))),I})()}})),t}}),s(ve,{get categoryAndItems(){return b()},get startIndex(){return v()},get isOpen(){return o()},onClose:t=>{m(!1),typeof t=="number"&&setTimeout(()=>E(t),100)}})]}})),n})()};W(["click","keydown"]);var Ae=y("<div><!$><!/><div class=pb-20>");const Re=r=>{const c=te.LAST_CATEGORY_ID,_=`${c}::${r.restaurantId}`,p=(()=>{if(r.activeCategoryId)return r.activeCategoryId;let e="";try{if(typeof window<"u"&&(e=localStorage.getItem(_)||"",!e)){const a=localStorage.getItem(c)||"";if(a){e=a;try{localStorage.setItem(_,a)}catch{}}}}catch{}return e&&(r.menu||[]).some(a=>a.id===e)?e:r.menu?.[0]?.id})(),[d,b]=Y(p),x=()=>{const e=(r.menu||[]).find(a=>a.id===d());return e||{id:"",name:"",items:[],layout:f.LARGE}},$=()=>(r.menu||[]).map(e=>({id:e.id,label:e.name})),R=()=>x()?.layout??f.LARGE;return(()=>{var e=g(Ae),a=e.firstChild,[o,m]=ee(a.nextSibling),v=o.nextSibling;return u(e,s(ye,{get categories(){return $()},get restaurantId(){return r.restaurantId},get activeCategoryId(){return d()},preserveScrollOnActiveChange:!0,onSelect:C=>{C!==d()&&b(C)}}),o,m),u(v,s(Se,{get menuCategoryAndItems(){return x()},get displayMode(){return R()}})),e})()};export{Re as default};
