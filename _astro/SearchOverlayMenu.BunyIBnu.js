import{d as Ve,e as b,f as A,o as Te,a as u,h as ue,g,t as f,j as N,i as m,S as j,F as H,k as L,b as Z,s as me,r as ge,m as De,l as Ge,P as qe}from"./web.mwHRxvMB.js";import{D as V,M as Be,F as Fe}from"./FullscreenViewerSwiper.BkyxVysu.js";import"./_restaurant_.6f04fe89.Cfz2rqAZ.js";import"./pagination.CeHDqKQv.js";import"./hash-navigation.CsTBY9Op.js";import"./autoplay.oimAbWlb.js";/* empty css                              */var Ke=f("<p class=text-second>Type to search the menu. Results will appear here."),ze=f('<div id=search-overlay><div id=search-backdrop role=presentation></div><div id=search-panel><div class="sticky top-0 z-[1001] pt-[env(safe-area-inset-top)] bg-main"><div class="flex items-center h-16 px-3 gap-2 border-b border-main"><button type=button aria-label="Close search"data-search-close class="w-10 h-10 flex items-center justify-center rounded-lg bg-fourth hover:bg-third"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 class="w-5 h-5 text-second"><path stroke-linecap=round stroke-linejoin=round d="M6 18L18 6M6 6l12 12"></path></svg></button><div class="relative flex-1"><input id=search-input type=text placeholder="Search menu..."class="w-full bg-main/5 text-second placeholder-third/50 rounded-lg pl-10 pr-10 h-10 focus:outline-none focus:ring-2 focus:ring-second"><div class="pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center"><img src=/images/assets/icon-search.svg alt=Search class="w-5 h-5 opacity-70"></div><button type=button aria-label="Clear search"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 class="w-5 h-5"><path stroke-linecap=round stroke-linejoin=round d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div></div><div class="absolute inset-0 pt-[calc(env(safe-area-inset-top)+4rem)] bg-main text-second overflow-y-auto"><div class="p-4 space-y-8"></div></div><!$><!/>'),Pe=f("<p class=text-white/60>No results found."),Qe=f('<section><div class="mb-3 mt-2"><div class="flex gap-2 items-center"><svg xmlns=http://www.w3.org/2000/svg width=12 height=12 viewBox="0 0 16 16"fill=none><path d="M16 8L4 14.9282L4 1.0718L16 8Z"fill=currentColor></path></svg><h3 class="text-sm font-semibold text-second"></h3></div></div><!$><!/>'),Re=f('<div class="mb-2 mt-2"><div class="flex gap-2 items-center"><h4 class="text-xs font-semibold text-second/80">'),Ue=f("<div><!$><!/><!$><!/>"),He=f("<div>"),Ze=f('<div><div class="cursor-zoom-in focus:outline-none focus-visible:ring-2 focus-visible:ring-second rounded-xl"role=button tabindex=0>');function st(_){const[fe,he]=b(!1),[T,J]=b(""),[W,X]=b(!1),[ve,pe]=b(0),[Y,ye]=b(null),D=()=>_.isOpen!==void 0?_.isOpen:fe(),h=e=>{_.onOpenChange?_.onOpenChange(e):he(e),typeof document<"u"&&(e?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"))},be=A(()=>{const e=_.data;if(!e)return[];const t=[],n=e?.info?.name||e?.slug||"",s=e?.slug||"",l=Array.isArray(e?.menu)?e.menu:[];for(const i of l){const c=i?.name||"",d=i?.layout,x=Array.isArray(i?.items)?i.items:[];for(const a of x)a?.disabled||t.push({rSlug:s,rName:n,cName:c,cLayout:d,segTitle:null,item:a});const C=Array.isArray(i?.segments)?i.segments:[];for(const a of C){const B=a?.title||"",F=a?.layout,K=Array.isArray(a?.items)?a.items:[];if(!a?.list_only)for(const O of K)O?.disabled||t.push({rSlug:s,rName:n,cName:c,cLayout:d,segTitle:B,segLayout:F,item:O})}}return t}),$=e=>(e||"").toLowerCase(),[_e,$e]=b("");let G;const ee=e=>{J(e),clearTimeout(G),G=setTimeout(()=>$e(e),150)};ue(()=>clearTimeout(G));const te=A(()=>{const e=$(_e());return e?be().filter(n=>{const s=$(n.item?.name),l=$(n.item?.description),i=$(n.cName),c=$(n.segTitle||"");return n?.item?.disabled?!1:s.includes(e)||l.includes(e)||i.includes(e)||c.includes(e)}).slice(0,200):[]}),q=A(()=>{const e={};for(const t of te()){const n=t.cName,s=t.segTitle||"__NO_SEG__";e[n]||(e[n]={}),e[n][s]||(e[n][s]={layout:t.segLayout??t.cLayout,items:[]}),!e[n][s].layout&&(t.segLayout||t.cLayout)&&(e[n][s].layout=t.segLayout??t.cLayout),e[n][s].items.push(t)}return e}),xe=A(()=>{const e=[],t=q();for(const[n,s]of Object.entries(t))for(const[l,i]of Object.entries(s)){const c=i.items||[];for(const d of c)e.push(d.item)}return e}),ne=(e,t,n)=>{let s=0;const l=q();for(const[i,c]of Object.entries(l))for(const[d,x]of Object.entries(c)){if(i===e&&d===t)return s+n;s+=(x.items||[]).length}return 0},we=e=>{if(typeof document>"u")return;const t=document.querySelector(`[data-id="sr-item-${e}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})};return Te(()=>{const e=document.querySelector("[data-search-open]"),t=document.querySelector("[data-search-close]"),n=l=>{l.target?.id==="search-backdrop"&&h(!1)};e?.addEventListener("click",()=>h(!0)),t?.addEventListener("click",()=>h(!1)),document.addEventListener("click",n);const s=l=>{l.key==="Escape"&&h(!1)};document.addEventListener("keydown",s),ue(()=>{e?.removeEventListener("click",()=>h(!0)),t?.removeEventListener("click",()=>h(!1)),document.removeEventListener("click",n),document.removeEventListener("keydown",s)})}),u(qe,{get children(){var e=g(ze),t=e.firstChild,n=t.nextSibling,s=n.firstChild,l=s.firstChild,i=l.firstChild,c=i.nextSibling,d=c.firstChild,x=d.nextSibling,C=x.nextSibling,a=s.nextSibling,B=a.firstChild,F=a.nextSibling,[K,O]=N(F.nextSibling);return i.$$click=()=>h(!1),d.$$input=r=>ee(r.currentTarget.value),C.$$click=()=>{J(""),ee("")},m(B,u(j,{get when(){return T().length===0},get fallback(){return u(j,{get when(){return te().length>0},get fallback(){return g(Pe)},get children(){return u(H,{get each(){return Object.entries(q())},children:([r,E])=>(()=>{var v=g(Qe),w=v.firstChild,M=w.firstChild,ke=M.firstChild,Se=ke.nextSibling,Le=w.nextSibling,[Ce,Oe]=N(Le.nextSibling);return m(Se,r),m(v,u(H,{get each(){return Object.entries(E)},children:([p,z])=>(()=>{var I=g(Ue),Ee=I.firstChild,[se,Me]=N(Ee.nextSibling),Ie=se.nextSibling,[Ae,Ne]=N(Ie.nextSibling);return m(I,u(j,{when:p!=="__NO_SEG__",get children(){var P=g(Re),k=P.firstChild,Q=k.firstChild;return m(Q,p),P}}),se,Me),m(I,()=>{const k=z?.layout??V.MEDIUM,Q=k===V.SMALL||k===V.MEDIUM?"grid grid-cols-2 gap-x-3 gap-y-6":"grid grid-cols-1 gap-y-10";return(()=>{var R=g(He);return L(R,Q),m(R,u(H,{get each(){return z.items||z},children:(U,je)=>{const re=U.item,ie=U.segLayout??U.cLayout??k,oe=je(),le=()=>{const S={name:"Search results",items:xe()};ye(S);const o=ne(r,typeof p=="string"?p:"__NO_SEG__",oe);pe(o),X(!0)};return(()=>{var S=g(Ze),y=S.firstChild;return y.$$keydown=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),le())},y.$$click=le,m(y,u(Be,{item:re,layout:ie})),Z(o=>{var ae=ie===V.LARGE,ce=`sr-item-${ne(r,typeof p=="string"?p:"__NO_SEG__",oe)}`,de=`View ${re?.name||"item"} in full screen`;return ae!==o.e&&S.classList.toggle("col-span-2",o.e=ae),ce!==o.t&&me(y,"data-id",o.t=ce),de!==o.a&&me(y,"aria-label",o.a=de),o},{e:void 0,t:void 0,a:void 0}),ge(),S})()}})),R})()},Ae,Ne),I})()}),Ce,Oe),v})()})}})},get children(){return g(Ke)}})),m(n,u(j,{get when(){return De(()=>!!W())()&&Y()},get children(){return u(Fe,{get categoryAndItems(){return Y()},get startIndex(){return ve()},get isOpen(){return W()},onClose:r=>{X(!1),typeof r=="number"&&setTimeout(()=>we(r),100)}})}}),K,O),Z(r=>{var E=`search-container fixed inset-0 z-[1000] ${D()?"":"hidden"}`,v=`absolute inset-0 bg-main/60 transition-opacity duration-300 ${D()?"opacity-100":"opacity-0"}`,w=`search-container fixed inset-0 transition-all duration-300 ${D()?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,M=`absolute inset-y-0 right-0 pr-3 flex items-center text-second ${T().length?"":"hidden"}`;return E!==r.e&&L(e,r.e=E),v!==r.t&&L(t,r.t=v),w!==r.a&&L(n,r.a=w),M!==r.o&&L(C,r.o=M),r},{e:void 0,t:void 0,a:void 0,o:void 0}),Z(()=>Ge(d,"value",T())),ge(),e}})}Ve(["click","input","keydown"]);export{st as default};
