import{m as p,j as C,g as N,b as y,e as k}from"./pagination.CeHDqKQv.js";function I(w){let{swiper:a,extendParams:S,on:d,emit:c}=w;S({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,prevEl:null};function g(e){let t;return e&&typeof e=="string"&&a.isElement&&(t=a.el.querySelector(e)||a.hostEl.querySelector(e),t)?t:(e&&(typeof e=="string"&&(t=[...document.querySelectorAll(e)]),a.params.uniqueNavElements&&typeof e=="string"&&t&&t.length>1&&a.el.querySelectorAll(e).length===1?t=a.el.querySelector(e):t&&t.length===1&&(t=t[0])),e&&!t?e:t)}function h(e,t){const i=a.params.navigation;e=p(e),e.forEach(n=>{n&&(n.classList[t?"add":"remove"](...i.disabledClass.split(" ")),n.tagName==="BUTTON"&&(n.disabled=t),a.params.watchOverflow&&a.enabled&&n.classList[a.isLocked?"add":"remove"](i.lockClass))})}function o(){const{nextEl:e,prevEl:t}=a.navigation;if(a.params.loop){h(t,!1),h(e,!1);return}h(t,a.isBeginning&&!a.params.rewind),h(e,a.isEnd&&!a.params.rewind)}function m(e){e.preventDefault(),!(a.isBeginning&&!a.params.loop&&!a.params.rewind)&&(a.slidePrev(),c("navigationPrev"))}function u(e){e.preventDefault(),!(a.isEnd&&!a.params.loop&&!a.params.rewind)&&(a.slideNext(),c("navigationNext"))}function E(){const e=a.params.navigation;if(a.params.navigation=C(a,a.originalParams.navigation,a.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(e.nextEl||e.prevEl))return;let t=g(e.nextEl),i=g(e.prevEl);Object.assign(a.navigation,{nextEl:t,prevEl:i}),t=p(t),i=p(i);const n=(s,x)=>{s&&s.addEventListener("click",x==="next"?u:m),!a.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};t.forEach(s=>n(s,"next")),i.forEach(s=>n(s,"prev"))}function b(){let{nextEl:e,prevEl:t}=a.navigation;e=p(e),t=p(t);const i=(n,s)=>{n.removeEventListener("click",s==="next"?u:m),n.classList.remove(...a.params.navigation.disabledClass.split(" "))};e.forEach(n=>i(n,"next")),t.forEach(n=>i(n,"prev"))}d("init",()=>{a.params.navigation.enabled===!1?l():(E(),o())}),d("toEdge fromEdge lock unlock",()=>{o()}),d("destroy",()=>{b()}),d("enable disable",()=>{let{nextEl:e,prevEl:t}=a.navigation;if(e=p(e),t=p(t),a.enabled){o();return}[...e,...t].filter(i=>!!i).forEach(i=>i.classList.add(a.params.navigation.lockClass))}),d("click",(e,t)=>{let{nextEl:i,prevEl:n}=a.navigation;i=p(i),n=p(n);const s=t.target;let x=n.includes(s)||i.includes(s);if(a.isElement&&!x){const v=t.path||t.composedPath&&t.composedPath();v&&(x=v.find(f=>i.includes(f)||n.includes(f)))}if(a.params.navigation.hideOnClick&&!x){if(a.pagination&&a.params.pagination&&a.params.pagination.clickable&&(a.pagination.el===s||a.pagination.el.contains(s)))return;let v;i.length?v=i[0].classList.contains(a.params.navigation.hiddenClass):n.length&&(v=n[0].classList.contains(a.params.navigation.hiddenClass)),c(v===!0?"navigationShow":"navigationHide"),[...i,...n].filter(f=>!!f).forEach(f=>f.classList.toggle(a.params.navigation.hiddenClass))}});const r=()=>{a.el.classList.remove(...a.params.navigation.navigationDisabledClass.split(" ")),E(),o()},l=()=>{a.el.classList.add(...a.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(a.navigation,{enable:r,disable:l,update:o,init:E,destroy:b})}function H(w){let{swiper:a,extendParams:S,emit:d,on:c}=w,g=!1;const h=N(),o=y();S({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(r,l){if(a.virtual&&a.params.virtual.enabled){const e=a.slides.find(i=>i.getAttribute("data-hash")===l);return e?parseInt(e.getAttribute("data-swiper-slide-index"),10):0}return a.getSlideIndex(k(a.slidesEl,`.${a.params.slideClass}[data-hash="${l}"], swiper-slide[data-hash="${l}"]`)[0])}}});const m=()=>{d("hashChange");const r=h.location.hash.replace("#",""),l=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],e=l?l.getAttribute("data-hash"):"";if(r!==e){const t=a.params.hashNavigation.getSlideIndex(a,r);if(typeof t>"u"||Number.isNaN(t))return;a.slideTo(t)}},u=()=>{if(!g||!a.params.hashNavigation.enabled)return;const r=a.virtual&&a.params.virtual.enabled?a.slidesEl.querySelector(`[data-swiper-slide-index="${a.activeIndex}"]`):a.slides[a.activeIndex],l=r?r.getAttribute("data-hash")||r.getAttribute("data-history"):"";a.params.hashNavigation.replaceState&&o.history&&o.history.replaceState?(o.history.replaceState(null,null,`#${l}`||""),d("hashSet")):(h.location.hash=l||"",d("hashSet"))},E=()=>{if(!a.params.hashNavigation.enabled||a.params.history&&a.params.history.enabled)return;g=!0;const r=h.location.hash.replace("#","");if(r){const e=a.params.hashNavigation.getSlideIndex(a,r);a.slideTo(e||0,0,a.params.runCallbacksOnInit,!0)}a.params.hashNavigation.watchState&&o.addEventListener("hashchange",m)},b=()=>{a.params.hashNavigation.watchState&&o.removeEventListener("hashchange",m)};c("init",()=>{a.params.hashNavigation.enabled&&E()}),c("destroy",()=>{a.params.hashNavigation.enabled&&b()}),c("transitionEnd _freeModeNoMomentumRelease",()=>{g&&u()}),c("slideChange",()=>{g&&a.params.cssMode&&u()})}export{H,I as N};
