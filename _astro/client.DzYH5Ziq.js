import{D as V,$ as w,y as q,z as C,A as I,e as B,B as G,C as J,a as K,E as U}from"./dev.CiFu84Wg.js";const L=Symbol("store-raw"),g=Symbol("store-node"),O=Symbol("store-has"),z=Symbol("store-self");function M(n){let e=n[w];if(!e&&(Object.defineProperty(n,w,{value:e=new Proxy(n,v)}),!Array.isArray(n))){const r=Object.keys(n),t=Object.getOwnPropertyDescriptors(n);for(let o=0,i=r.length;o<i;o++){const l=r[o];t[l].get&&Object.defineProperty(n,l,{enumerable:t[l].enumerable,get:t[l].get.bind(e)})}}return e}function y(n){let e;return n!=null&&typeof n=="object"&&(n[w]||!(e=Object.getPrototypeOf(n))||e===Object.prototype||Array.isArray(n))}function $(n,e=new Set){let r,t,o,i;if(r=n!=null&&n[L])return r;if(!y(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let l=0,d=n.length;l<d;l++)o=n[l],(t=$(o,e))!==o&&(n[l]=t)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const l=Object.keys(n),d=Object.getOwnPropertyDescriptors(n);for(let s=0,c=l.length;s<c;s++)i=l[s],!d[i].get&&(o=n[i],(t=$(o,e))!==o&&(n[i]=t))}return n}function R(n,e){let r=n[e];return r||Object.defineProperty(n,e,{value:r=Object.create(null)}),r}function N(n,e,r){if(n[e])return n[e];const[t,o]=B(r,{equals:!1,internal:!0});return t.$=o,n[e]=t}function X(n,e){const r=Reflect.getOwnPropertyDescriptor(n,e);return!r||r.get||!r.configurable||e===w||e===g||(delete r.value,delete r.writable,r.get=()=>n[w][e]),r}function W(n){I()&&N(R(n,g),z)()}function Y(n){return W(n),Reflect.ownKeys(n)}const v={get(n,e,r){if(e===L)return n;if(e===w)return r;if(e===C)return W(n),r;const t=R(n,g),o=t[e];let i=o?o():n[e];if(e===g||e===O||e==="__proto__")return i;if(!o){const l=Object.getOwnPropertyDescriptor(n,e);I()&&(typeof i!="function"||n.hasOwnProperty(e))&&!(l&&l.get)&&(i=N(t,e,i)())}return y(i)?M(i):i},has(n,e){return e===L||e===w||e===C||e===g||e===O||e==="__proto__"?!0:(I()&&N(R(n,O),e)(),e in n)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:Y,getOwnPropertyDescriptor:X};function A(n,e,r,t=!1){if(!t&&n[e]===r)return;const o=n[e],i=n.length;r===void 0?(delete n[e],n[O]&&n[O][e]&&o!==void 0&&n[O][e].$()):(n[e]=r,n[O]&&n[O][e]&&o===void 0&&n[O][e].$());let l=R(n,g),d;if((d=N(l,e,o))&&d.$(()=>r),Array.isArray(n)&&n.length!==i){for(let s=n.length;s<i;s++)(d=l[s])&&d.$();(d=N(l,"length",i))&&d.$(n.length)}(d=l[z])&&d.$()}function H(n,e){const r=Object.keys(e);for(let t=0;t<r.length;t+=1){const o=r[t];A(n,o,e[o])}}function Q(n,e){if(typeof e=="function"&&(e=e(n)),e=$(e),Array.isArray(e)){if(n===e)return;let r=0,t=e.length;for(;r<t;r++){const o=e[r];n[r]!==o&&A(n,r,o)}A(n,"length",t)}else H(n,e)}function T(n,e,r=[]){let t,o=n;if(e.length>1){t=e.shift();const l=typeof t,d=Array.isArray(n);if(Array.isArray(t)){for(let s=0;s<t.length;s++)T(n,[t[s]].concat(e),r);return}else if(d&&l==="function"){for(let s=0;s<n.length;s++)t(n[s],s)&&T(n,[s].concat(e),r);return}else if(d&&l==="object"){const{from:s=0,to:c=n.length-1,by:f=1}=t;for(let u=s;u<=c;u+=f)T(n,[u].concat(e),r);return}else if(e.length>1){T(n[t],e,[t].concat(r));return}o=n[t],r=[t].concat(r)}let i=e[0];typeof i=="function"&&(i=i(o,r),i===o)||t===void 0&&i==null||(i=$(i),t===void 0||y(o)&&y(i)&&!Array.isArray(i)?H(o,i):A(n,t,i))}function Z(...[n,e]){const r=$(n||{}),t=Array.isArray(r);if(typeof r!="object"&&typeof r!="function")throw new Error(`Unexpected type ${typeof r} received when initializing 'createStore'. Expected an object.`);const o=M(r);V.registerGraph({value:r,name:e&&e.name});function i(...l){q(()=>{t&&l.length===1?Q(r,l[0]):T(r,l)})}return[o,i]}const D=Symbol("store-root");function E(n,e,r,t,o){const i=e[r];if(n===i)return;const l=Array.isArray(n);if(r!==D&&(!y(n)||!y(i)||l!==Array.isArray(i)||o&&n[o]!==i[o])){A(e,r,n);return}if(l){if(n.length&&i.length&&(!t||o&&n[0]&&n[0][o]!=null)){let c,f,u,a,h,b,S,j;for(u=0,a=Math.min(i.length,n.length);u<a&&(i[u]===n[u]||o&&i[u]&&n[u]&&i[u][o]&&i[u][o]===n[u][o]);u++)E(n[u],i,u,t,o);const P=new Array(n.length),_=new Map;for(a=i.length-1,h=n.length-1;a>=u&&h>=u&&(i[a]===n[h]||o&&i[a]&&n[h]&&i[a][o]&&i[a][o]===n[h][o]);a--,h--)P[h]=i[a];if(u>h||u>a){for(f=u;f<=h;f++)A(i,f,n[f]);for(;f<n.length;f++)A(i,f,P[f]),E(n[f],i,f,t,o);i.length>n.length&&A(i,"length",n.length);return}for(S=new Array(h+1),f=h;f>=u;f--)b=n[f],j=o&&b?b[o]:b,c=_.get(j),S[f]=c===void 0?-1:c,_.set(j,f);for(c=u;c<=a;c++)b=i[c],j=o&&b?b[o]:b,f=_.get(j),f!==void 0&&f!==-1&&(P[f]=i[c],f=S[f],_.set(j,f));for(f=u;f<n.length;f++)f in P?(A(i,f,P[f]),E(n[f],i,f,t,o)):A(i,f,n[f])}else for(let c=0,f=n.length;c<f;c++)E(n[c],i,c,t,o);i.length>n.length&&A(i,"length",n.length);return}const d=Object.keys(n);for(let c=0,f=d.length;c<f;c++)E(n[d[c]],i,d[c],t,o);const s=Object.keys(i);for(let c=0,f=s.length;c<f;c++)n[s[c]]===void 0&&A(i,s[c],void 0)}function x(n,e={}){const{merge:r,key:t="id"}=e,o=$(n);return i=>{if(!y(i)||!y(o))return o;const l=E(o,{[D]:i},D,r,t);return l===void 0?i:l}}const F=new WeakMap;var k=n=>(e,r,t,{client:o})=>{if(!n.hasAttribute("ssr"))return;const i=o!=="only",l=i?G:J;let d,s={};if(Object.keys(t).length>0){if(o!=="only"){const a=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,h=>h===n?NodeFilter.FILTER_SKIP:h.nodeName==="ASTRO-SLOT"?NodeFilter.FILTER_ACCEPT:h.nodeName==="ASTRO-ISLAND"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_SKIP);for(;d=a.nextNode();)s[d.getAttribute("name")||"default"]=d}for(const[a,h]of Object.entries(t))s[a]||(s[a]=document.createElement("astro-slot"),a!=="default"&&s[a].setAttribute("name",a),s[a].innerHTML=h)}const{default:c,...f}=s,u=n.dataset.solidRenderId;if(F.has(n))F.get(n)(x({...r,...f,children:c}));else{const[a,h]=Z({...r,...f,children:c});F.set(n,h);const b=l(()=>{const S=()=>K(e,a);return i?K(U,{get children(){return S()}}):S()},n,{renderId:u});n.addEventListener("astro:unmount",()=>b(),{once:!0})}};export{k as default};
